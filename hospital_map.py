import streamlit as st
import folium
from streamlit_folium import st_folium
import pandas as pd

# –î–∞–Ω–Ω—ã–µ –ø–æ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è–º
data = [
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–ì–æ–º–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç–Ω–∞—è –∫–ª–∏–Ω–∏—á–µ—Å–∫–∞—è –±–æ–ª—å–Ω–∏—Ü–∞",
        "lat": 52.4345, "lon": 30.9754,
        "–†–ö–¢": "Aquilion LB", "–°—Ä–µ–∑–æ–≤": "16", "–ú–†–¢": "Ingenia Philips"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–ì–æ–º–µ–ª—å—Å–∫–∏–π –æ–Ω–∫–æ–¥–∏—Å–ø–∞–Ω—Å–µ—Ä",
        "lat": 52.4219, "lon": 31.0086,
        "–†–ö–¢": "Aquilion Lightning", "–°—Ä–µ–∑–æ–≤": "80", "–ú–†–¢": "‚Äî"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–ì–æ–º–µ–ª—å—Å–∫–∞—è –≥–æ—Ä–æ–¥—Å–∫–∞—è –∫–ª–∏–Ω–∏—á–µ—Å–∫–∞—è –±–æ–ª—å–Ω–∏—Ü–∞ ‚Ññ1",
        "lat": 52.4417, "lon": 30.9878,
        "–†–ö–¢": "Revolution Evo", "–°—Ä–µ–∑–æ–≤": "28", "–ú–†–¢": "Ingenia Philips"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–ú–æ–∑—ã—Ä—Å–∫–∞—è –≥–æ—Ä–æ–¥—Å–∫–∞—è –±–æ–ª—å–Ω–∏—Ü–∞",
        "lat": 52.0494, "lon": 29.2637,
        "–†–ö–¢": "Bright Speed Elite", "–°—Ä–µ–∑–æ–≤": "16", "–ú–†–¢": "ANKE SuperMarie"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–ú–æ–∑—ã—Ä—Å–∫–∞—è –¶–†–ë",
        "lat": 52.0467, "lon": 29.2572,
        "–†–ö–¢": "Somatom go.Up", "–°—Ä–µ–∑–æ–≤": "‚Äî", "–ú–†–¢": "MagFinder WA 13200"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–ñ–ª–æ–±–∏–Ω—Å–∫–∞—è –¶–†–ë",
        "lat": 52.8925, "lon": 30.0244,
        "–†–ö–¢": "Somatom Emotion / go.Up", "–°—Ä–µ–∑–æ–≤": "‚Äî", "–ú–†–¢": "‚Äî"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–°–≤–µ—Ç–ª–æ–≥–æ—Ä—Å–∫–∞—è –¶–†–ë",
        "lat": 52.6333, "lon": 29.7333,
        "–†–ö–¢": "Toshiba Aquilion", "–°—Ä–µ–∑–æ–≤": "‚Äî", "–ú–†–¢": "‚Äî"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–†–µ—á–∏—Ü–∫–∞—è –¶–†–ë",
        "lat": 52.3617, "lon": 30.3853,
        "–†–ö–¢": "Ventum", "–°—Ä–µ–∑–æ–≤": "64", "–ú–†–¢": "‚Äî"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–ü–µ—Ç—Ä–∏–∫–æ–≤—Å–∫–∞—è –¶–†–ë",
        "lat": 52.1281, "lon": 28.4917,
        "–†–ö–¢": "Ventum", "–°—Ä–µ–∑–æ–≤": "‚Äî", "–ú–†–¢": "‚Äî"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–•–æ–π–Ω–∏–∫—Å–∫–∞—è –¶–†–ë",
        "lat": 51.8861, "lon": 29.6272,
        "–†–ö–¢": "Ventum", "–°—Ä–µ–∑–æ–≤": "‚Äî", "–ú–†–¢": "‚Äî"
    },
    {
        "–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ": "–ß–µ—á–µ—Ä—Å–∫–∞—è –¶–†–ë",
        "lat": 52.9167, "lon": 30.9,
        "–†–ö–¢": "Ventum", "–°—Ä–µ–∑–æ–≤": "‚Äî", "–ú–†–¢": "‚Äî"
    },
]

# –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
st.set_page_config(page_title="–£—á—Ä–µ–∂–¥–µ–Ω–∏—è –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ì–æ–º–µ–ª—å—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏", layout="wide")
st.title("ü©∫ –£—á—Ä–µ–∂–¥–µ–Ω–∏—è –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ì–æ–º–µ–ª—å—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏")
search = st.text_input("üîé –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —É—á—Ä–µ–∂–¥–µ–Ω–∏—è")

# –ö–∞—Ä—Ç–∞
m = folium.Map(location=[52.4, 30.9], zoom_start=8, tiles="Stamen Terrain")

for entry in data:
    if search.lower() in entry["–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ"].lower():
        folium.Marker(
            location=[entry["lat"], entry["lon"]],
            popup=f"""
                <b>{entry["–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ"]}</b><br>
                <b>–†–ö–¢:</b> {entry["–†–ö–¢"]}<br>
                <b>–°—Ä–µ–∑–æ–≤:</b> {entry["–°—Ä–µ–∑–æ–≤"]}<br>
                <b>–ú–†–¢:</b> {entry["–ú–†–¢"]}
            """,
            icon=folium.Icon(color="blue", icon="plus-sign"),
        ).add_to(m)

# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
st_data = st_folium(m, width=1300, height=700)
